---
layout: post
title: ğŸ“˜ [GithubPages] Jekyll hydejack Search bar êµ¬í˜„ - 4
image:
  path: /assets/img/blog/blog-basic.jpg
categories:
  - study
  - etc
related_posts:
  - _posts/study/etc/2025-03-01-githubpages-001.md
  - _posts/study/etc/2025-03-02-githubpages-002.md
  - _posts/study/etc/2025-03-03-githubpages-003.md
  - _posts/study/etc/2025-03-07-githubpages-005.md
  - _posts/study/etc/2025-03-08-githubpages-006.md
  - _posts/study/etc/2025-03-10-githubpages-007.md
  - _posts/study/etc/2025-03-15-githubpages-008.md
description: "[GithubPages] Jekyll hydejack Search bar êµ¬í˜„"
published: true
date: 2025-03-05
tags:
  - jekyll
  - githubpages
sitemap: true
---

# ğŸ“˜ [GithubPages] Jekyll hydejack Search bar êµ¬í˜„ - 4

---

* toc
{:toc}

ë¸”ë¡œê·¸ë¥¼ ì‹œì‘í•˜ë©´ ì—¬ëŸ¬ê°€ì§€ ê¸°ëŠ¥ë“¤ì„ êµ¬í˜„í•´ë³´ë©´ì„œ ì¬ë¯¸ë¥¼ ë¶™ì´ê¸° ì‹œì‘í–ˆë‹¤.
ì•ìœ¼ë¡œ studyë‚˜ devê¸°ë¡ë“¤ì„ í¬ìŠ¤íŒ… í•  ì˜ˆì •ì´ë‹¤. ê¸°ë¡ë“¤ì´ ëŠ˜ì–´ë‚œë‹¤ë©´ ë‚´ê°€ ì ì—ˆë˜ ê¸€ë“¤ì„ ì‰½ê²Œ ì°¾ì•„ë³´ê¸° í˜ë“¤ê²ƒ ê°™ì•„ì„œ
Search bar ê¸°ëŠ¥ì„ êµ¬í˜„í•´ë³´ì í•˜ëŠ” ìƒê°ì— ì´ ê¸€ì„ ì‘ì„±í•œë‹¤.
êµ¬ê¸€ì—ì„œ ê²€ìƒ‰í•˜ë‹¤ê°€ ë°œê²¬í•œ [SimpleJekyllSearch](https://github.com/christian-fei/Simple-Jekyll-Search) ì˜¤í”ˆ ì†ŒìŠ¤ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì´ìš©í•˜ì—¬ ê°„ë‹¨í•˜ê²Œ êµ¬í˜„ì´ ê°€ëŠ¥í–ˆë‹¤.

## âœ… [SimpleJekyllSearch](https://github.com/christian-fei/Simple-Jekyll-Search) êµ¬í˜„

---

## 1. `assets/search.json` [download link](https://github.com/christian-fei/Simple-Jekyll-Search/blob/master/example/search.json)


```json
# file: `assets/js/search.json`
---
layout: none
---
[
  {% for post in site.posts %}
    {
		"title"    : "{{ post.title | escape }}",
	    "categories": "{{ post.categories | join: ' >> ' }}",
	    "tags"     : "{{ post.tags | join: ', ' }}",
	    "url": "{{ post.url | prepend: site.baseurl }}",
	    "date": "{{ post.date | date: '%Yë…„ %mì›” %dì¼' }}"
    } {% unless forloop.last %},{% endunless %}
  {% endfor %}
]
```

ì´ íŒŒì¼ì€ ê²€ìƒ‰ì„ ìˆ˜í–‰í•˜ê¸° ìœ„í•œ ë°ì´í„° ì†ŒìŠ¤ë¡œ ì‚¬ìš©ëœë‹¤.

ê²€ìƒ‰ ë°ì´í„°ê°€ ë‹¤ìŒê³¼ ê°™ì€ formatìœ¼ë¡œ í‘œí˜„ë˜ë©° ì›í•˜ëŠ” í‘œí˜„ ë°©ì‹ìœ¼ë¡œ ìˆ˜ì •í•˜ë©´ ëœë‹¤.

### 1-2. `assets/js/simple-jekyll-search.min.js` [download link](https://github.com/christian-fei/Simple-Jekyll-Search/tree/master/example/js)

ìœ„ ê²½ë¡œì— ì„¸íŒ…í•´ì¤€ë‹¤.

## 2. `_includes/body/menu.html` ìƒë‹¨ ë©”ë‰´ search barì¶”ê°€

---

```html
# file: `_includes/body/menu.html`
{% raw %}
<!-- CSS -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/all.min.css" />
<div id="_navbar" class="navbar fixed-top">
  <div class="content">
    <span class="sr-only">{{ site.data.strings.jump_to | default:"Jump to" }}{{ site.data.strings.colon | default:":" }}</span>
    <div class="nav-btn-bar">
      <a id="_menu" class="nav-btn no-hover" href="#_drawer--opened">
        <span class="sr-only">{{ site.data.strings.navigation | default:"Navigation" }}</span>
        <span class="icon-menu"></span>
      </a>
      <div class="nav-span">
        <a href="{{ '/search' | prepend: site.baseurl }}" class="nav-btn no-hover top-menu">
          <i class="fas fa-fw fa-search"></i>
          <!-- <span>Search</span> -->
        </a>
      </div>
    </div>
  </div>
</div>
<hr class="sr-only" hidden />
{% endraw %}
```

ìƒë‹¨ ë©”ë‰´ì— ë‹ë³´ê¸° ëª¨ì–‘ì´ ì¶”ê°€ë˜ì—ˆë‹¤.

![alt text](<../../../assets/img/etc/Pasted image 20250515000842.png>)

## 3. `_layout/search.html` ë ˆì´ì•„ì›ƒ ìƒì„± 

---

```html
# file: `_layout/search.html`
{% raw %}
---
layout: default
title: Search
permalink: /search/
---
<div class="search-page">
  <div class="search-header">
    <i class="fas fa-search fa-fw search-icon"></i>
    <input id="search-input" type="search" placeholder="Search" />
  </div>
  <ul id="results-container" class="search-results"></ul>
</div>

<ul id="results-container"></ul>

<script src="{{ '/assets/js/simple-jekyll-search.min.js' | relative_url }}"></script>
<script src="{{ '/assets/js/search-init.js' | relative_url }}"></script>
<script>
  document.addEventListener('DOMContentLoaded', initSimpleSearch);
  document.addEventListener('hy-push-state-load', initSimpleSearch);
  initSimpleSearch();
</script>
{% endraw %}
```

> [!NOTE]
> /search í˜ì´ì§€ ì´ë™ì¤‘ template íŒŒì‹± ì˜¤ë¥˜ê°€ ë°œìƒí•¨.
> Hydejack í…Œë§ˆì—ì„œëŠ” í˜ì´ì§€ ë¡œë”©ì—†ì´ ì´ë™í•˜ë¯€ë¡œ search.htmlì—ì„œ ì§ì ‘ scriptë¥¼ ì‚¬ìš©í•˜ë©´ push-stateë¡œ ë¡œë”©ë  ë•Œ jsê°€ íŒŒì‹±ë˜ì§€ ì•Šê³  ì˜¤ë¥˜ê°€ ë°œìƒí•˜ëŠ”ë“¯ í•˜ë‹¤.
> ë”°ë¼ì„œ js(search-init.jsìƒì„±)ëŠ” ë³„ë„ë¡œ ë¶„ë¦¬í•˜ê³  `DOMContentLoaded` ë° `hy-push-state-load` ì´ë²¤íŠ¸ë¥¼ ëª¨ë‘ ì²˜ë¦¬í•´ì¤˜ì•¼ í•œë‹¤.

---

## 4. `search-init.js` ìŠ¤í¬ë¦½íŠ¸ ìƒì„±

---

```js
# file: _assets/js/search-init.js
function initSimpleSearch() {
	const input = document.getElementById('search-input');
	const results = document.getElementById('results-container');
	if (!input || !results) return;

	if (window.simpleJekyllSearchInstance){
		// ì´ì „ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì œê±° (ë™ì¼í•œ DOMì— ë‘ ë²ˆ ì´ˆê¸°í™” ë°©ì§€)
		delete window.simpleJekyllSearchInstance;
	} 
    {% raw %}
    SimpleJekyllSearch({
        searchInput: document.getElementById('search-input'),
        resultsContainer: document.getElementById('results-container'),
        json: '/search.json', // ë˜ëŠ” '{{ "/search.json" | relative_url }}'
        searchResultTemplate: `
        <li class="content-item">
          <div class="content-row">
            <i class="fas fa-folder fa-fw"></i>
            <a href="{url}">{categories}</a>
          </div>
          <div class="content-row">
            <i class="fas fa-book fa-fw"></i>
            <a href="{url}">{title}</a>
          </div>
          <div class="content-row">
            <i class="fas fa-tags fa-fw"></i>
            <a href="{url}">{tags}</a>
          </div>
          <div class="content-row">
            <i class="fas fa-calendar-alt fa-fw"></i>
            <a href="{url}">{date}</a>
          </div>
        </li>
      `,
        noResultsText: 'ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.',
        limit: 10,
        fuzzy: false
    });
}
 {% endraw %} 
```

* `searchInput` : input íƒœê·¸ì— textë¥¼ ì…ë ¥ë°›ëŠ” ìš”ì†Œ
* `resultsContainer` : ê²€ìƒ‰ ê²°ê³¼ê°€ ë Œë”ë§ë˜ì–´ì•¼ í•˜ëŠ” ìš”ì†Œ
* `json` : ê²€ìƒ‰ ë°ì´í„°ê°€ jsonì— ì§ì ‘ ì „ë‹¬ëœë‹¤.
* `searchResultTemplate` : ê²€ìƒ‰ ê²°ê³¼ í…œí”Œë¦¿
* `templateMiddleware` : í…œí”Œë¦¿ì—ì„œ ì¼ì¹˜í•˜ëŠ” í•­ëª©ì´ ë°œê²¬ë  ë•Œ í˜¸ì¶œë˜ëŠ” í•¨ìˆ˜
* `noResultsText` : ì¼ì¹˜í•˜ëŠ” ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ì„ ê²½ìš° í‘œì‹œ
* `limit` : ê²Œì‹œë¬¼ ìˆ˜ ì œí•œ
* `fuzzy` : ëœ ì¼ì¹˜í•˜ëŠ” í•­ëª©ë„ ê²€ìƒ‰ ì €ëŠ” falseë¥¼ ì¤¬ìŠµë‹ˆë‹¤.
* `exclude` : ê²€ìƒ‰ ì œì™¸í•­ëª© ì¶”ê°€

---
## 5. `_sass/my-style.css` `_sass/_variables.scss`

ê¸°ë³¸ ê²€ìƒ‰ ë ˆì´ì•„ì›ƒ ë””ìì¸ì´ ì¢‹ì§€ì•Šì•„ì„œ ğŸ¤£ ë³„ë„ë¡œ cssë¥¼ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤.

```css
# file: `_sass/my-style.css`
.search-page {
    max-width: 768px;
    margin: 3rem auto;
    padding: 2rem;
    backdrop-filter: blur(8px);
    background: var(--glass-bg);
    border-radius: 16px;
    box-shadow: 0 4px 24px rgba(0, 0, 0, 0.1);
}

.search-header {
    display: flex;
    align-items: center;
    background-color: var(--card-bg);
    padding: 0.8rem 1rem;
    border-radius: 12px;
    border: 1px solid var(--border);
    margin-bottom: 2rem;
    transition: border 0.3s ease;
}

.search-header:focus-within {
    border-color: var(--accent);
}

.search-icon {
    color: var(--icon-color);
    font-size: 1.2rem;
    margin-right: 0.8rem;
}

#search-input {
    flex: 1;
    border: none;
    font-size: 1.1rem;
    background: transparent;
    color: var(--text);
    outline: none;
}

.search-results {
    list-style: none;
    padding: 0;
    margin: 0;
    color: var(--text);
}

.search-results li {
    background-color: var(--card-bg);
    border: 1px solid var(--border);
    border-radius: 10px;
    margin-bottom: 1rem;
    padding: 1rem;
    transition: transform 0.2s ease, background 0.3s ease;
    color: var(--text); // ğŸ‘ˆ ëª…ì‹œì ìœ¼ë¡œ ì¶”ê°€
}

.search-results li.no-results {
    color: var(--text);
    font-style: italic;
    opacity: 0.8; 
}

.search-results li:hover {
    background-color: var(--hover-bg);
    transform: translateY(-2px);
}

.search-results a {
    color: var(--link);
    text-decoration: none;
    font-weight: 600; 
}
```

```css
# file: `_sass/_variables.css`
:root {
    --glass-bg: rgba(255, 255, 255, 0.8);
    --card-bg: #ffffff;
    --border: #ddd;
    --hover-bg: #f0f0f0;
    --text: #111;
    --link: #007acc;
    --icon-color: #666;
    --accent: #007acc;
}

[data-theme="dark"] {
    --glass-bg: rgba(30, 30, 30, 0.5);
    --card-bg: #2a2a2a;
    --border: #444;
    --hover-bg: #3a3a3a;
    --text: #ddd;
    --link: #66ccff;
    --icon-color: #aaa;
    --accent: #66ccff; 
}
```

hydejack í…Œë§ˆëŠ” dark mode, light mode ì§€ì›í•˜ê¸° ë•Œë¬¸ì— ìƒ‰ìƒ ëª¨ë“œì— ë”°ë¼ cssê°€ ë‹¤ë¥´ê²Œ ì ìš©ë˜ê²Œ ì¶”ê°€í•œë‹¤.

## 6. `search.md` ìƒì„±

---

- `_pages` í´ë” ì•ˆì— ìƒì„±
-  ë£¨íŠ¸ ë””ë ‰í„°ë¦¬ì— ìƒì„±í•˜ë©´ ìë™ì¸ì‹ ë˜ì§€ë§Œ `_pages` í´ë” ì•ˆì— ë„£ì–´ì„œ ê´€ë¦¬í•˜ê³  ì‹¶ìœ¼ë©´
- `_config.yml` ì—ì„œ collectionsì— pages ì¶”ê°€

```yml
# file: '_config.yml'
collections:
  pages:
    output: true
    permalink: /:name/
```

```md
# file: `_pages/search.md` 
---
layout: search
title: Search
permalink: /search/
---
```

search.md ìƒì„±í•˜ì—¬ search.html ë ˆì´ì•„ì›ƒì— ì—°ê²°í•œë‹¤.

![alt text](<../../../assets/img/etc/Pasted image 20250513224012.png>)

Search ê¸°ëŠ¥ì´ ì˜ ì‘ë™ë˜ëŠ”ì§€ í™•ì¸ğŸ¤”

---

## ğŸ“‘ Reference

---

+ [Simple-Jekyll-Search](https://github.com/christian-fei/Simple-Jekyll-Search)
+ [Jekyllì— ê²€ìƒ‰ í˜ì´ì§€ ì¶”ê°€í•˜ê¸°](https://jamesu.dev/posts/2021/01/03/adding-search-page-on-jekyll/)

---

